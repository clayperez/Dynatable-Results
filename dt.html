<link rel="stylesheet" href="http://www.clayperez.net/CDN/dynatable/jquery.dynatable.css">

<div id="bracketContainer"></div>
<table id="resultsTable">
    <thead>
        <td>bib</td><td>route</td><td>firstname</td><td>lastname</td><td>agebracket</td><td>elapsedtime</td><td>year</td>
    </thead>
    <tbody></tbody>
</table>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="http://www.clayperez.net/CDN/dynatable/json_query.min.js"></script>
<script src="http://www.clayperez.net/CDN/dynatable/jquery.dynatable.js"></script>
<script src="http://www.clayperez.net/CDN/dynatable/lgf_all_results.js"></script>
<script>
// JSON QUERY
// https://github.com/jiren/JsonQuery
var HTML = '';
var QData = JsonQuery( theResults );
var ageBrackets = QData.select('agebracket').groupBy('agebracket').order({'agebracket': 'asc'}).exec();
for ( var bracket in ageBrackets ){ HTML += '<option>' + bracket + '</option>'; }
$("#bracketContainer").html( 'AGE BRACKET: <select id="ageBracketSelector" name="agebracket">' + HTML + '</select>' );

// DYNATABLE
// http://www.dynatable.com/
var dynatable = $('#resultsTable').dynatable({
  dataset: {records: theResults},
  inputs: {
    queries: $('#ageBracketSelector')
  }
});

</script>
